---
title: typescript 泛型工具
date: 2020-08-31 22:10:30
tags: typescript
---
**提要**
> * 泛型工具介绍及原理解析，提供demo供大家思考练习，进一步学习思考泛型的意义。
> * 围绕着下方五个问题，展开讨论。
> 1. 什么是泛型？
> 2. 泛型怎么用？
> 3. 什么时候该用泛型？
> 4. 什么是范泛型工具？
> 5. 如何写一个泛型工具？

**背景**
在参与大学项目期间，有幸学习并使用过typescript3.0开发，但是由于当时项目是初创环节，业务体量及复杂度有限，基本的使用就够用了，所以一直没有深入学习一些高级内容。后来加入观麦前端团队，有辛认识到有着ts丰富经验的前辈，开始意识到自己在ts方面还有很多盲区，所以选择跳出来，往更深的内容学习。现在与大家分享泛型工具相关的学习，有什么不足的地方，希望能和大家共同交流。

## 什么是泛型？

> 喜欢更多细节和原理的朋友，可以前往官网，阅读文档。[官网传送门](https://www.typescriptlang.org/docs/handbook/generics.html)  [中文版传送门](https://www.tslang.cn/docs/handbook/generics.html)
---

如果是科班出身，对编译型语言有一定了解的话，可以看看这句话，就能初步理解了个大概。
[泛型是程序设计语言的一种特性。允许程序员在强类型程序设计语言中编写代码时定义一些可变部分，那些部分在使用前必须作出指明。](https://baike.baidu.com/item/%E6%B3%9B%E5%9E%8B/4475207?fr=aladdin)**这里提及的可变部分必须作出声明，typescript可以自动推断类型，所以不一定要声明。**

然后，我们用通俗一点的语言，来进一步了解typescript的泛型，举个例子：
我是一个函数，专门负责把我拿到的钱，变成硬币。我没加泛型之前，我只收漂亮国的钱。后来，我免费了，加入了泛型，可以处理各种不同国家的钱，再返回对应国家的硬币。你可以告诉我，你给我什么钱，你也可以不告诉我，我自己判断。

就从上面上面例子中，其实可以发现，在没加入泛型之前，为了低容错，会声明某些固定类型，比如，只转漂亮国的钱。当加入泛型后，我们可以让函数变为**纯函数**，依赖参数，用**泛型变量**来定义相关参数的类型，实现类似动态类型的概念，做出行为一致结果,**拿什么钱，转什么钱**。所以泛型更考验开发者的能力，因为在编写代码时，要保证其在定义的泛型场景下，能通过。当然，函数虽然可以转很多国家的钱，可能它不想转冥币，所以我们也必须声明好泛型的适用的场景，就要加**泛型约束**。

## 泛型怎么用？



## 什么时候该用泛型？

在大部分的开发场景下，都没必要使用泛型，因为不用泛型也能正常写业务，正常写工具。泛型，更多是附加价值，写个万金油的工具，和单一业务工具，功能上是单一的，但是应用场景更广了，在价值层面是不一样的。
所以我更推荐在公共工具、强依赖外部数据的组件等，个人看法，如果大家有其他等想法，可以在方评论区留言。

## 什么是范泛型工具？

## 如何写一个泛型工具？


